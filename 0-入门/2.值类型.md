# 变量类型-值类型

## 变量类型分类

* 值类型：直接传递数值
* 引用类型：传递地址，类似指针
* 映射类型：储存键值对的数据结构，类似于python的字典

## 值类型

### 布尔型

```solidity
bool public b1 = true;
bool public b2 = false;
```

仍然遵从web2编程语言的逻辑运算

- `!` （逻辑非）
- `&&` （逻辑与，"and"）
- `||` （逻辑或，"or"）
- `==` （等于）
- `!=` （不等于）

### 整型

```solidity
int public int1 =1; //有符号整数
uint public int2 =1; //无符号整数
uint256 public int3 =1; // 256位无符号整数
```

仍然遵从web2编程语言的算数与比较运算

- 比较运算符（返回布尔值）： `<=`， `<`，`==`， `!=`， `>=`， `>`
- 算术运算符： `+`， `-`， `*`， `/`， `%`（取余），`**`（幂）

### 地址类型

**普通地址（address）**

* 本质上就是存一个以太坊的地址，固定为20字节大小。
* 该类地址有一些成员方法，比如：`.balance` —— 查询地址余额；`.code`、`.codehash` —— 查询合约代码信息。
* 但是没有`transfer` 和 `send` 这两个成员方法，只能用来 **存储、对比地址、被动收款**，但不能调用 `.transfer()` 或 `.send()` 方法，即无法通过`.transfer()` 或 `.send()` 方法收款

```solidity
address public _address = 0x7A58c0Be72BE218B41C608b7Fe7C5bB630736C71;
//不能接收transfer/send，但可以被动接收转账
```

**可支付地址（address payable）**

* 比普通地址多了 `transfer` 和 `send` 两个成员方法，可以接收来自`transfer` 和 `send` 方法的打款。

```solidity
address payable public _address = 0x7A58c0Be72BE218B41C608b7Fe7C5bB630736C71;
// 可调用 transfer、send方法接收转账
```

### 定长字节数组

**定长字节数组**

值类型，传递数值。有bytes1、bytes8、bytes32类型，一旦声明数组长度就无法改变。定长字节数组最多存储 32 bytes 数据，即`bytes32`。

**不定长字节数组**

引用类型，传递地址。有bytes等类型，声明数组长度后仍然可以改变大小。

```solidity
bytes32 public _b32 = "rfergrtegtrgtrg"; 
bytes1 public _b1 =_b32[0];
```

`_b1` 变量的值为 `_b32` 的第一个字节

## 练习

```solidity
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.21;

contract Mytest {
    address public _address = 0x7A58c0Be72BE218B41C608b7Fe7C5bB630736C71;
    address payable public payable_address;
    uint256 public _b1;
    uint256 public amount = 10000000000000000000; // 10 ETH (in wei)

    constructor() {
        payable_address = payable(_address);
        _b1 = _address.balance;
    }

    function sendeth() external {
        (bool success, ) = payable_address.call{value: amount}("");
        require(success, "Transfer failed");
    }

    function getBalance() public view returns (uint256) {
        return _address.balance;
    }
}
```

![image-20250810140001589](https://s2.loli.net/2025/08/10/wdIcNhKLGMka8t4.png)
